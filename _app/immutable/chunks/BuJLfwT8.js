import"./NZTpNUN0.js";import"./69_IOA4Y.js";import{f as Fa,s,A as Ca,a as Aa,c as a,r as n,n as o}from"./BSyUpBt6.js";import{c as p}from"./C1qLbRIA.js";import{I as l}from"./C050mrvx.js";var Ba=Fa(`<h1>Rust OOP: Unlock Polymorphism in Rust</h1> <p><em>2772 words</em><span class="status mx-1"></span><em>35 min read</em></p> <span class="badge badge-primary">markdown</span> <h2 id="i-má»Ÿ-Ä‘áº§u" class="scroll-mt-20">I. Má»Ÿ Ä‘áº§u</h2><p>Chao xÃ¬n, xin chÃ o, ráº¥t vui vÃ¬ báº¡n Ä‘Ã£ dÃ nh thá»i gian Ä‘á»ƒ xem nhá»¯ng chia sáº» cá»§a mÃ¬nh trong lÄ©nh vá»±c láº­p trÃ¬nh. VÃ  dÃ nh cho nhá»¯ng ai Ä‘Ã£ khá»Ÿi Ä‘áº§u con Ä‘Æ°á»ng láº­p trÃ¬nh thÃ´ng qua nhá»¯ng video Java cá»§a máº¥y anh á»Ÿ Ä‘áº¥t nÆ°á»›c cÃ³ dÃ¢n sá»‘ Ä‘á»©ng thá»© 2 tháº¿ giá»›i, ta cÃ³ thá»ƒ nÃ³i ráº±ng, OOP chÃ­nh lÃ  bÃ i há»c vá»¡ lÃ²ng mÃ  báº¥t ká»³ ai cÅ©ng <del>pháº£i</del> Ä‘Ã£ thuá»™c lÃ u lÃ u nhÆ° 5 Ä‘iá»u bÃ¡c há»“ dáº¡y. ChÃ­nh vÃ¬ lÃ½ do nÃ y, khi chuyá»ƒn sang 1 ngÃ´n ngá»¯ khÃ´ng tuÃ¢n theo cÃ¡c nguyÃªn táº¯c cá»§a Java, viá»‡c Ã¡p Ä‘áº·t mindset cÅ© vÃ  Ä‘áº·t ra nhá»¯ng so sÃ¡nh lÃ  Ä‘iá»u khÃ³ trÃ¡nh khá»i.</p> <p>Trong bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ thá»­ Ã¡p dá»¥ng mindset khi code Java lÃªn Rust Ä‘á»ƒ xem ráº±ng chÃºng cÃ³ nhá»¯ng Æ°u/nhÆ°á»£c Ä‘iá»ƒm gÃ¬ vÃ  táº¡i sao Rust láº¡i khÃ¡c biá»‡t so vá»›i cÃ¡c ngÃ´n ngá»¯ khÃ¡c vá» máº·t nÃ y. Äá»ƒ bÃ i viáº¿t nÃ y dá»… theo dÃµi, mÃ¬nh sáº½ táº­p trung vÃ o nguyÃªn lÃ½ ná»•i tiáº¿ng vÃ  máº¡nh máº½ nháº¥t cá»§a Java, tÃ­nh <u>Ä‘a hÃ¬nh</u> (polymorphism). CÃ¹ng nhau tÃ¬m hiá»ƒu nhÃ©, let&#39;s gooooooo.</p> <h2 id="ii-tÃ­nh-Ä‘a-hÃ¬nh-polymorphism" class="scroll-mt-20">II. TÃ­nh Ä‘a hÃ¬nh (Polymorphism)</h2><p>NguyÃªn lÃ½ nÃ y <strong>cho phÃ©p báº¡n táº¡o ra nhiá»u káº¿t quáº£ khÃ¡c nhau tá»« 1 nguá»“n</strong>. Trong Java ta cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘iá»u nÃ y thÃ´ng qua viá»‡c override method tá»« 1 interface, class hoáº·c abstract class.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="interface LLM {
    void bipbop();
}
class ChatGPT implements LLM { ... } // override \`bipbop\`
class Gemini implements LLM { ... } // override \`bipbop\`
class Claude implements LLM { ... } // override \`bipbop\`" data-lang="JAVA"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">interface</span><span style="color:#F69D50"> LLM</span><span style="color:#ADBAC7"> &lbrace;</span></span>
<span class="line"><span style="color:#F47067">    void</span><span style="color:#DCBDFB"> bipbop</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span>
<span class="line"><span style="color:#F47067">class</span><span style="color:#F69D50"> ChatGPT</span><span style="color:#F47067"> implements</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; ... &rbrace; </span><span style="color:#768390">// override \`bipbop\`</span></span>
<span class="line"><span style="color:#F47067">class</span><span style="color:#F69D50"> Gemini</span><span style="color:#F47067"> implements</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; ... &rbrace; </span><span style="color:#768390">// override \`bipbop\`</span></span>
<span class="line"><span style="color:#F47067">class</span><span style="color:#F69D50"> Claude</span><span style="color:#F47067"> implements</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; ... &rbrace; </span><span style="color:#768390">// override \`bipbop\`</span></span></code></pre></figure> <p>Äá»ƒ Ä‘áº¡t Ä‘Æ°á»£c tÃ­nh nÄƒng nÃ y, ngÃ´n ngá»¯ lÃ¢p trÃ¬nh sá»­ dá»¥ng cÆ¡ cháº¿ vtable, báº¡n cÃ³ thá»ƒ hiá»ƒu ráº±ng vtable Ä‘Æ°á»£c xÃ¢y dá»±ng giá»‘ng nhÆ° 1 Dictionary (danh sÃ¡ch cÃ¡c key-value) vá»›i <em>key</em> lÃ  id cá»§a class vÃ  <em>value</em> lÃ  con trá» trá» tá»›i vá»‹ trÃ­ mÃ  class Ä‘Æ°á»£c khá»Ÿi táº¡o (sau khi gá»i tá»« khÃ³a <em>new</em>).</p> <p>&lbrace;&lbrace;Váº½ hÃ¬nh minh há»a&rbrace;&rbrace;</p> <p>ÄÃ¢y lÃ  kiáº¿n trÃºc phá»• biáº¿n vÃ  mang láº¡i hiá»‡u quáº£ cao nÃªn Ä‘Æ°á»£c Ã¡p dá»¥ng trong má»i ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ sá»­ dá»¥ng tÃ­nh Ä‘a hÃ¬nh (polymorphism). Tuy nhiÃªn, náº¿u quan sÃ¡t ká»¹ ta váº«n cÃ³ thá»ƒ tháº¥y ráº±ng khi sá»­ dá»¥ng vtable sáº½ tá»‘n thÃªm chi phÃ­ Ä‘á»ƒ tÃ¬m ra Ä‘Æ°á»£c con trá» tá»›i Ä‘á»‹a chá»‰ cáº§n tÃ¬m, trong 1 vÃ i tÃ¬nh huá»‘ng khi ta Ä‘Ã£ xÃ¡c Ä‘á»‹nh rÃµ class muá»‘n gá»i thÃ¬ Ä‘Ã¢y lÃ  1 sá»± dÆ° thá»«a khÃ´ng cáº§n thiáº¿t. Äá»™i ngÅ© thiáº¿t káº¿ Rust Ä‘Ã£ nhÃ¬n ra vÃ  tá»‘i Æ°u hÃ³a cho trÆ°á»ng há»£p nÃ y, mÃ¬nh sáº½ nÃ³i rÃµ hÆ¡n á»Ÿ pháº§n tiáº¿p theo.</p> <h2 id="iii-dynamic-dispatch" class="scroll-mt-20">III. Dynamic Dispatch</h2><p>HoÃ£n láº¡i 1 chÃºt sá»± pháº¥n khÃ­ch trÆ°á»›c khi chÃºng ta tÃ¬m hiá»ƒu xem Rust Ä‘Ã£ tá»‘i Æ°u hÃ³a nhÆ° tháº¿ nÃ o, hÃ£y báº¯t Ä‘áº§u tá»« váº¥n Ä‘á» trÆ°á»›c. NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn, dynamic polymorphism xá»­ dá»¥ng cÆ¡ cháº¿ vtable Ä‘á»ƒ quáº£n lÃ½ cÃ¡c implementation vÃ  cho phÃ©p Ä‘oáº¡n code sau Ä‘Ã¢y xáº£y ra.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="List&lt;LLM> llms = Arrays.asList(new ChatGPT(), new Gemini(), new Claude());

llms.forEach(llm -> llm.bipbop());" data-lang="JAVA"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#ADBAC7">List</span><span style="color:#F69D50">&#x3C;</span><span style="color:#F47067">LLM</span><span style="color:#F69D50">> </span><span style="color:#ADBAC7">llms</span><span style="color:#F47067"> =</span><span style="color:#ADBAC7"> Arrays.</span><span style="color:#DCBDFB">asList</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">new</span><span style="color:#DCBDFB"> ChatGPT</span><span style="color:#ADBAC7">(), </span><span style="color:#F47067">new</span><span style="color:#DCBDFB"> Gemini</span><span style="color:#ADBAC7">(), </span><span style="color:#F47067">new</span><span style="color:#DCBDFB"> Claude</span><span style="color:#ADBAC7">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7">llms.</span><span style="color:#DCBDFB">forEach</span><span style="color:#ADBAC7">(llm </span><span style="color:#F47067">-></span><span style="color:#ADBAC7"> llm.</span><span style="color:#DCBDFB">bipbop</span><span style="color:#ADBAC7">());</span></span></code></pre></figure> <p>Tuy nhiÃªn khi mÃ¬nh cá»‘ Ã¡p dá»¥ng vÃ o trong Rust, káº¿t quáº£ lÃ </p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="trait LLM {
	bipbop();
}
#[derive(Default)]
struct ChatGPT;
#[derive(Default)]
struct Gemini;
#[derive(Default)]
struct Claude;

impl LLM for ChatGPT {}
impl LLM for ChatGPT {}
impl LLM for ChatGPT {}

let llms: Vec&lt;LLM> = Vec::from([ChatGPT::default(), Gemini::default(), Claude::default()]);" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">trait</span><span style="color:#F69D50"> LLM</span><span style="color:#ADBAC7"> &lbrace;</span></span>
<span class="line"><span style="color:#DCBDFB">	bipbop</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span>
<span class="line"><span style="color:#ADBAC7">#[derive(</span><span style="color:#F69D50">Default</span><span style="color:#ADBAC7">)]</span></span>
<span class="line"><span style="color:#F47067">struct</span><span style="color:#F69D50"> ChatGPT</span><span style="color:#ADBAC7">;</span></span>
<span class="line"><span style="color:#ADBAC7">#[derive(</span><span style="color:#F69D50">Default</span><span style="color:#ADBAC7">)]</span></span>
<span class="line"><span style="color:#F47067">struct</span><span style="color:#F69D50"> Gemini</span><span style="color:#ADBAC7">;</span></span>
<span class="line"><span style="color:#ADBAC7">#[derive(</span><span style="color:#F69D50">Default</span><span style="color:#ADBAC7">)]</span></span>
<span class="line"><span style="color:#F47067">struct</span><span style="color:#F69D50"> Claude</span><span style="color:#ADBAC7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067">impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#F47067"> for</span><span style="color:#F69D50"> ChatGPT</span><span style="color:#ADBAC7"> &lbrace;&rbrace;</span></span>
<span class="line"><span style="color:#F47067">impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#F47067"> for</span><span style="color:#F69D50"> ChatGPT</span><span style="color:#ADBAC7"> &lbrace;&rbrace;</span></span>
<span class="line"><span style="color:#F47067">impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#F47067"> for</span><span style="color:#F69D50"> ChatGPT</span><span style="color:#ADBAC7"> &lbrace;&rbrace;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067">let</span><span style="color:#ADBAC7"> llms</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Vec</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F69D50">LLM</span><span style="color:#ADBAC7">> </span><span style="color:#F47067">=</span><span style="color:#F69D50"> Vec</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">from</span><span style="color:#ADBAC7">([</span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">(), </span><span style="color:#F69D50">Gemini</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">(), </span><span style="color:#F69D50">Claude</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">()]);</span></span></code></pre></figure> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="" data-lang=""><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span></span></span></code></pre></figure> <p>Äá»ƒ giáº£i thÃ­ch lÃ½ do táº¡i sao Ä‘oáº¡n code trÃªn khÃ´ng hoáº¡t Ä‘á»™ng, trÆ°á»›c háº¿t hÃ£y cháº¯c ráº±ng báº¡n Ä‘Ã£ hiá»ƒu háº¿t nhá»¯ng khÃ¡i niá»‡m sau Ä‘Ã¢y</p> <ul><li>Pointer &amp; FatPointer</li> <li>Heap vs Stack</li> <li>Object Allocation</li></ul> <p>Minh sáº½ giáº£i thÃ­ch 1 chÃºt vá» cÃ¡ch 1 Collection nhÆ° Vec vÃ  List chá»©a dá»¯ liá»‡u, vá» báº£n cháº¥t chÃºng lÃ  nhá»¯ng FatPointer cÃ³ chá»©a 3 dá»¯ liá»‡u quan trá»ng</p> <ol><li>Pointer: con trá» tá»›i vÃ¹ng nhá»› cá»§a dá»¯ liá»‡u</li> <li>Size: Ä‘á»™ lá»›n cá»§a dá»¯ liá»‡u</li> <li>Length: sá»‘ lÆ°á»£ng pháº§n tá»­</li></ol> <p>CÃ³ 1 rÃ ng buá»™c cá»±c ká»³ quan trong vá» thiáº¿t káº¿ cá»§a Collection Ä‘Ã³ lÃ  cÃ¡c pháº§n tá»­ con pháº£i cÃ³ size lÃ  <strong>ngang nhau</strong>.  Quay láº¡i 3 object mÃ  chÃºng ta Ä‘Ã£ khá»Ÿi táº¡o khi nÃ£y, chÃºng cÃ³ Ä‘á»™ lá»›n khÃ¡c nhau, báº¡n sáº½ tháº¯c máº¯c ráº±ng</p> <blockquote>Náº¿u tháº¿ thÃ¬ tÃ´i chá»‰ cáº§n táº¡o ra cÃ¡c object cÃ³ cÃ¡c field giá»‘ng nhau lÃ  Ä‘Æ°á»£c mÃ ?</blockquote><p>ThÃ¬ theo lÃ½ thuyáº¿t, cÃ¡ch lÃ m cá»§a báº¡n lÃ  khÃ´ng sai nhÆ°ng compiler hiá»‡n nay khÃ´ng Ä‘á»§ thÃ´ng minh Ä‘á»ƒ biáº¿t Ä‘Æ°á»£c chuyá»‡n nÃ y, vÃ  Ä‘á»ƒ cho an toÃ n thÃ¬ cá»© má»—i khi nhÃ¬n tháº¥y 2 object cÃ³ sá»± khÃ¡c biá»‡t vá» signature, compiler máº·c Ä‘á»‹nh lÃ  cÃ³ sá»± khÃ¡c biá»‡t vá» kÃ­ch thÆ°á»›c.</p> <blockquote>"á»¦a váº­y táº¡i sao tháº±ng Java nÃ³ láº¡i lÃ m Ä‘Æ°á»£c?"</blockquote><p>Yeah, Ã´ng Java Ä‘Ã£ giáº¥u nháº¹m Ä‘i 1 chuyá»‡n, nÃ³ Ä‘Ã£ ngáº§m Ä‘á»‹nh lÆ°u trá»¯ cÃ¡c con trá» thay vÃ¬ giÃ¡ trá»‹ thá»±c cá»§a tá»«ng object. VÃ  nhÆ° báº¡n biáº¿t Ä‘Ã³, pointer cÃ³ size lÃ  báº±ng nhau nÃªn váº«n thá»a rÃ ng buá»™c Ä‘Ã£ Ä‘áº·t ra.</p> <p>&lbrace;&lbrace;Váº½ hÃ¬nh minh há»a&rbrace;&rbrace;</p> <h3 id="1-smart-pointer" class="scroll-mt-20">1. Smart Pointer</h3><p>MÃ¬nh cÅ©ng Ä‘Ã£ Ä‘Æ°a ra cÃ¢u giáº£i phÃ¡p Ä‘á»ƒ Ã¡p dá»¥ng tÃ­nh Ä‘a hÃ¬nh vÃ o Rust rá»“i Ä‘Ã³, náº¿u nhÆ° báº¡n Ä‘á»§ tinh Ã½. VÃ¬ Rust khÃ´ng ngáº§m Ä‘á»‹nh cast cÃ¡c object sang pointer nÃªn ta buá»™c pháº£i lÃ m Ä‘iá»u Ä‘Ã³ 1 cÃ¡ch thá»§ cÃ´ng. CÃ´ng cá»¥ mÃ  mÃ¬nh sá»­ dá»¥ng Ä‘á»ƒ lÃ m Ä‘iá»u Ä‘Ã³ lÃ  SmartPointer, nÃ³ cho phÃ©p chÃºng ta lÆ°u trá»¯ 1 object báº¥t ká»³ vÃ o bá»™ nhá»› HEAP, sau Ä‘Ã³ tráº£ vá» con trá» tá»›i Ã´ nhá»› Ä‘Ã³. Äiá»ƒm máº¡nh lÃ  chÃºng ta khÃ´ng cáº§n quan tÃ¢m vá» viá»‡c dá»n dáº¹p sau khi xá»­ dá»¥ng, vÃ¬ sao cáº§n pháº£i dá»n dáº¹p thÃ¬ báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu á»Ÿ Ä‘Ã¢y &lbrace;&lbrace; garbade collection vs RAII &rbrace;&rbrace;</p> <p>Wahlla chÃºng ta Ä‘Ã£ Ä‘Æ°a cÃ¡c object cá»§a Rust vá» dáº¡ng con trá» vÃ  bÃ¢y giá» chÃºng Ä‘Ã£ cÃ³ chung kÃ­ch thÆ°á»›c. No more complains from compiler.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="let lllms: Vec&lt;Box&lt;dyn LLM>> = Vec::from([Box::new(ChatGPT::default()), ..]);" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">let</span><span style="color:#ADBAC7"> lllms</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Vec</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F69D50">Box</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F47067">dyn</span><span style="color:#F69D50"> LLM</span><span style="color:#ADBAC7">>> </span><span style="color:#F47067">=</span><span style="color:#F69D50"> Vec</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">from</span><span style="color:#ADBAC7">([</span><span style="color:#F69D50">Box</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">new</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">()), </span><span style="color:#F47067">..</span><span style="color:#ADBAC7">]);</span></span></code></pre></figure> <h3 id="2-raw-pointer" class="scroll-mt-20">2. Raw Pointer</h3><p>CÃ³ 1 cÃ¡ch &quot;hoang dÃ£&quot; hÆ¡n Ä‘á»ƒ lÃ m viá»‡c nÃ y Ä‘Ã³ lÃ  báº¡n cast tháº³ng object vá» dáº¡ng raw pointer, Ä‘iá»ƒm máº¡nh cá»§a cÃ¡ch lÃ m nÃ y lÃ  khÃ´ng chá»‰ dÃ i dÃ²ng mÃ  cÃ²n giÃºp báº¡n cÃ³ cÆ¡ há»™i Ä‘á»ƒ Ä‘Ã¡nh sáº­p server production nhÆ° 1 hecker <del>lá»d</del> chuyÃªn nghiá»‡p.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="// WARNING
let lllms: Vec&lt;*const dyn LLM> = Vec::from([&amp;ChatGPT::default() as *const dyn LLM), ..]);" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#768390">// WARNING</span></span>
<span class="line"><span style="color:#F47067">let</span><span style="color:#ADBAC7"> lllms</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Vec</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F47067">*const</span><span style="color:#F47067"> dyn</span><span style="color:#F69D50"> LLM</span><span style="color:#ADBAC7">> </span><span style="color:#F47067">=</span><span style="color:#F69D50"> Vec</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">from</span><span style="color:#ADBAC7">([</span><span style="color:#F47067">&#x26;</span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() </span><span style="color:#F47067">as</span><span style="color:#F47067"> *const</span><span style="color:#F47067"> dyn</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7">), </span><span style="color:#F47067">..</span><span style="color:#ADBAC7">]);</span></span></code></pre></figure> <blockquote>Äá»«ng thá»­ nhÃ¡, mÃ¬nh Ä‘Ã¹a thÃ´i.</blockquote> <h3 id="3-std-any-any" class="scroll-mt-20">3. std::any::Any</h3><p>1 cÃ¡ch lÃ m Ã­t phá»• biáº¿n hÆ¡n Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c polymorphism trong Rust lÃ  thÃ´ng qua <code>std::any::Any</code>, náº¿u ai Ä‘Ã£ tá»«ng há»c qua Typescript thÃ¬ sáº½ tháº¥y cÃ¡i nÃ y ráº¥t quen, vÃ¢ng báº¡n khÃ´ng láº§m Ä‘Ã¢u, Ä‘Ãºng nÃ³ rá»“i Ä‘áº¥y. CÃ¡ch nÃ y sáº½ bá» qua má»i typecheck cá»§a compiler vÃ  cho phÃ©p báº¡n truyá»n vÃ o báº¥t cá»© thá»© gÃ¬ báº¡n muá»‘n, vÃ  nhÆ° uncle Ben Ä‘Ã£ nÃ³i</p> <blockquote>Sá»©c máº¡nh to lá»›n luÃ´n Ä‘i kÃ¨m vá»›i trÃ¡ch nhiá»‡m to lá»›n</blockquote><p>Tin mÃ¬nh Ä‘i, báº¡n khÃ´ng Ä‘á»§ sá»©c Ä‘á»ƒ gÃ¡nh vÃ¡c trÃ¡ch nhiá»‡m nÃ y Ä‘Ã¢u, Ä‘Ã³ lÃ  lÃ½ do mÃ  má»—i vÅ© trá»¥ chá»‰ cÃ³ 1 anh nhá»‡n vÃ  Ä‘Ã³ khÃ´ng pháº£i báº¡n.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="let lllms: Vec&lt;Box&lt;dyn Any>> = Vec::from([Box::new(ChatGPT::default()), ..]);

for llm in llms {
	if let Some(gpt) = llm.downcast_ref::&lt;ChatGPT>() {
		gpt.bipbop();
	}
	...
}" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">let</span><span style="color:#ADBAC7"> lllms</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Vec</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F69D50">Box</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F47067">dyn</span><span style="color:#F69D50"> Any</span><span style="color:#ADBAC7">>> </span><span style="color:#F47067">=</span><span style="color:#F69D50"> Vec</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">from</span><span style="color:#ADBAC7">([</span><span style="color:#F69D50">Box</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">new</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">()), </span><span style="color:#F47067">..</span><span style="color:#ADBAC7">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067">for</span><span style="color:#ADBAC7"> llm </span><span style="color:#F47067">in</span><span style="color:#ADBAC7"> llms &lbrace;</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> let</span><span style="color:#F69D50"> Some</span><span style="color:#ADBAC7">(gpt) </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> llm</span><span style="color:#F47067">.</span><span style="color:#DCBDFB">downcast_ref</span><span style="color:#F47067">::</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7">>() &lbrace;</span></span>
<span class="line"><span style="color:#ADBAC7">		gpt</span><span style="color:#F47067">.</span><span style="color:#DCBDFB">bipbop</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">	&rbrace;</span></span>
<span class="line"><span style="color:#F47067">	...</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span></code></pre></figure> <h2 id="iv-static-dispatch" class="scroll-mt-20">IV. Static Dispatch</h2><p>Phew, cuá»‘i cÃ¹ng cÅ©ng Ä‘áº¿n, á»§a mÃ  nÃ£y giá» hÃ¬nh nhÆ° cÅ©ng Ä‘Ã¢u tháº¥y cÃ³ gÃ¬ tá»‡ vá» dynamic Polymorphism Ä‘Ã¢u nhá»‰? Okay tháº¿ thÃ¬ má»i báº¡n nhÃ¬n qua vi dá»¥ nÃ y.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="LLM gpt = new ChatGPT();
LLM gemini = new Gemini();
LLM claude = new Claude();" data-lang="JAVA"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#ADBAC7">LLM</span><span style="color:#ADBAC7"> gpt</span><span style="color:#F47067"> =</span><span style="color:#F47067"> new</span><span style="color:#DCBDFB"> ChatGPT</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">LLM</span><span style="color:#ADBAC7"> gemini</span><span style="color:#F47067"> =</span><span style="color:#F47067"> new</span><span style="color:#DCBDFB"> Gemini</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">LLM</span><span style="color:#ADBAC7"> claude</span><span style="color:#F47067"> =</span><span style="color:#F47067"> new</span><span style="color:#DCBDFB"> Claude</span><span style="color:#ADBAC7">();</span></span></code></pre></figure> <p>Váº­y thÃ¬ vá»›i cÃ¡ch khá»Ÿi tao trÃªn 3 variables <code>gpt</code>, <code>gemini</code> vÃ  <code>claude</code> sáº½ tráº£ vá» con trá» tá»›i trá»±c tiáº¿p Ã´ chá»©a cá»§a chÃºng nhá»‰? Nhá»‰? Hell nah, chÃºng váº«n pháº£i Ä‘i qua vtable Ä‘á»ƒ tÃ¬m Ä‘ia chá»‰ nhÃ  cá»§a mÃ¬nh rá»“i sau Ä‘Ã³ má»›i cÃ³ thá»ƒ thá»±c thi cÃ¡c hÃ m bÃªn trong.</p> <blockquote>"Æ  tháº¿ sao Ã´ng khÃ´ng khai bÃ¡o nhÆ° nÃ y?"</blockquote> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="ChatGPT gpt = new ChatGPT();
Gemini gemini = new Gemini();
Claude claude = new Claude();" data-lang="JAVA"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#ADBAC7">ChatGPT</span><span style="color:#ADBAC7"> gpt</span><span style="color:#F47067"> =</span><span style="color:#F47067"> new</span><span style="color:#DCBDFB"> ChatGPT</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">Gemini</span><span style="color:#ADBAC7"> gemini</span><span style="color:#F47067"> =</span><span style="color:#F47067"> new</span><span style="color:#DCBDFB"> Gemini</span><span style="color:#ADBAC7">();</span></span>
<span class="line"><span style="color:#ADBAC7">Claude</span><span style="color:#ADBAC7"> claude</span><span style="color:#F47067"> =</span><span style="color:#F47067"> new</span><span style="color:#DCBDFB"> Claude</span><span style="color:#ADBAC7">();</span></span></code></pre></figure> <p>Okay cÃ¡ch nÃ y thÃ¬ tá»‘i Æ°u rá»“i Ä‘Ã³, tháº¿ thÃ¬ trÆ°á»ng há»£p mÃ¬nh muá»‘n táº¡o hÃ m xá»­ lÃ½ cho cÃ¡c LLM nÃ y thÃ¬ sao?</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="/// normal people
void sendMessgeTo(LLM llm) {}

/// who does this?
/// void sendMessgeChatGPT(ChatGPT llm) {}
/// void sendMessgeGemini(Gemini llm) {}
/// void sendMessgeClause(Clause llm) {}" data-lang="JAVA"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#768390">/// normal people</span></span>
<span class="line"><span style="color:#F47067">void</span><span style="color:#DCBDFB"> sendMessgeTo</span><span style="color:#ADBAC7">(LLM llm) &lbrace;&rbrace;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#768390">/// who does this?</span></span>
<span class="line"><span style="color:#768390">/// void sendMessgeChatGPT(ChatGPT llm) &lbrace;&rbrace;</span></span>
<span class="line"><span style="color:#768390">/// void sendMessgeGemini(Gemini llm) &lbrace;&rbrace;</span></span>
<span class="line"><span style="color:#768390">/// void sendMessgeClause(Clause llm) &lbrace;&rbrace;</span></span></code></pre></figure> <p>KhÃ´ng thá»ƒ nÃ o mÃ  mÃ¬nh pháº£i Ä‘i táº¡o hÃ m cho tá»«ng kiá»ƒu dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Ãºng ko, vÃ  rá»“i chÃºng ta láº¡i cÅ©ng pháº£i gáº·p láº¡i anh vtable quen thuá»™c. Rust Ä‘Æ°a cho chÃºng ta 2 giáº£i phÃ¡p.</p> <h3 id="1-keyword-impl" class="scroll-mt-20">1.  Keyword \`impl\`</h3><p>&quot;Ä‘Ã¡ trÃ¡i banh&quot; vÃ  &quot;nÆ°á»›c Ä‘Ã¡&quot;, cÃ¹ng 1 tá»« &quot;Ä‘Ã¡&quot; nhÆ°ng tÃ¹y vÃ o vá»‹ trÃ­ chÃºng sáº½ cho ra Ã½ nghÄ©a khÃ¡c nhau. Keyword <code>impl</code> ngoÃ i viá»‡c dÃ¹ng Ä‘á»ƒ khai bÃ¡o cho struct cÃ²n dÃ¹ng Ä‘á»ƒ suy luáº­n kiá»ƒu dá»¯ liá»‡u.</p> <p>Function/Method Params:</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn send_message_to(llm: impl LLM) {}

send_message_to(ChatGPT::default());
send_message_to(Gemini::default());
send_message_to(Claude::default());" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> send_message_to</span><span style="color:#ADBAC7">(llm</span><span style="color:#F47067">:</span><span style="color:#F47067"> impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7">) &lbrace;&rbrace;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCBDFB">send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">());</span></span>
<span class="line"><span style="color:#DCBDFB">send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">Gemini</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">());</span></span>
<span class="line"><span style="color:#DCBDFB">send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">Claude</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">());</span></span></code></pre></figure> <p>Return Type:</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn get_chatgpt(type: u64) -> impl LLM { ChatGPT::default() }
fn get_gemini(type: u64) -> impl LLM { Gemini::default() }
fn get_claude(type: u64) -> impl LLM { Claude::default() }" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_chatgpt</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#F47067"> impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() &rbrace;</span></span>
<span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_gemini</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#F47067"> impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#F69D50">Gemini</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() &rbrace;</span></span>
<span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_claude</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#F47067"> impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#F69D50">Claude</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() &rbrace;</span></span></code></pre></figure> <p>Generic Associated Type:</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"></span></code></pre></figure> <blockquote>Sao chá»— "Return Type" Ã´ng khÃ´ng táº¡o 1 hÃ m chung rá»“i tráº£ vá» theo Ä‘iá»u kiá»‡n input mÃ  láº¡i pháº£i tÃ¡ch ra lÃ m 3 hÃ m nhÆ° vÃ¢y?</blockquote><p>ÄÃ¢y lÃ  1 háº¡n cháº¿ lá»›n cá»§a static-dispatch, gá»‰a sá»­ mÃ¬nh lÃ m nhÆ° váº­y.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn get_llm(type: u64) -> impl LLM { /// should type compiler infer?
	if type == 1 { ChatGPT::default() }
	if type == 2 { Gemini::default() }
	if type == 3 { Claude::default() }
	ChatGPT::default()
}" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_llm</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#F47067"> impl</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#768390">/// should type compiler infer?</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> type</span><span style="color:#F47067"> ==</span><span style="color:#6CB6FF"> 1</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() &rbrace;</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> type</span><span style="color:#F47067"> ==</span><span style="color:#6CB6FF"> 2</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#F69D50">Gemini</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() &rbrace;</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> type</span><span style="color:#F47067"> ==</span><span style="color:#6CB6FF"> 3</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#F69D50">Claude</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">() &rbrace;</span></span>
<span class="line"><span style="color:#F69D50">	ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">()</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span></code></pre></figure> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="" data-lang=""><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span></span></span></code></pre></figure> <p>ÄÃ¢y lÃ  viá»‡c báº¥t kháº£ thi Ä‘á»ƒ compiler cÃ³ thá»ƒ suy luáº­n Ä‘Æ°á»£c giÃ¡ trá»‹ nÃ o Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ tráº£ vá». Äá»ƒ giáº£i thÃ­ch thÃ¬ ta hÃ£y quay vá» vÃ­ dá»¥ &quot;Funciton/Method Params&quot;, á»Ÿ vÃ­ dá»¥ nÃ y Rust Compiler sáº½ giáº£i quyáº¿t nhÆ° sau</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn $_1_send_message_to(llm: ChatGPT) {}
fn $_2_send_message_to(llm: Gemini) {}
fn $_3_send_message_to(llm: Claude) {}

$_1_send_message_to(ChatGPT::default());
$_2_send_message_to(Gemini::default());
$_3_send_message_to(Claude::default());" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#F47067"> $</span><span style="color:#DCBDFB">_1_send_message_to</span><span style="color:#ADBAC7">(llm</span><span style="color:#F47067">:</span><span style="color:#F69D50"> ChatGPT</span><span style="color:#ADBAC7">) &lbrace;&rbrace;</span></span>
<span class="line"><span style="color:#F47067">fn</span><span style="color:#F47067"> $</span><span style="color:#DCBDFB">_2_send_message_to</span><span style="color:#ADBAC7">(llm</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Gemini</span><span style="color:#ADBAC7">) &lbrace;&rbrace;</span></span>
<span class="line"><span style="color:#F47067">fn</span><span style="color:#F47067"> $</span><span style="color:#DCBDFB">_3_send_message_to</span><span style="color:#ADBAC7">(llm</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Claude</span><span style="color:#ADBAC7">) &lbrace;&rbrace;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067">$</span><span style="color:#DCBDFB">_1_send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">ChatGPT</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">());</span></span>
<span class="line"><span style="color:#F47067">$</span><span style="color:#DCBDFB">_2_send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">Gemini</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">());</span></span>
<span class="line"><span style="color:#F47067">$</span><span style="color:#DCBDFB">_3_send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">Claude</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">default</span><span style="color:#ADBAC7">());</span></span></code></pre></figure> <p>Báº±ng cÃ¡ch phÃ¢n tÃ­ch cÃº phÃ¡p vÃ  generate ra 3 function á»Ÿ tá»«ng nÆ¡i mÃ  báº¡n gá»i tÆ°Æ¡ng á»©ng vá»›i kiá»ƒu dá»¯ liá»‡u truyá»n vÃ o, váº«n giá»¯ nguyÃªn method body, ta Ä‘Ã£ cÃ³ thá»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c bÃ i toÃ¡n polymorphism mÃ  khÃ´ng cáº§n Ä‘áº¿n vtable. Äiá»u nÃ y hoÃ n toÃ n Ä‘Æ°Æ¡c thá»±c hiá»‡n bá»Ÿi Rust trong giai Ä‘oáº¡n compiletime.</p> <p>NhÆ°ng Ä‘á»‘i vá»›i vÃ­ dá»¥ vá» &quot;Return Type&quot;, hoÃ n toÃ n khÃ´ng cÃ³ cÃ¡ch nÃ o Ä‘á»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c kiá»ƒu tráº£ vá» trong giai Ä‘oáº¡n compiletime vÃ¬ nhÆ° báº¡n tháº¥y <code>type</code> lÃ  1 params Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh á»Ÿ giai Ä‘oáº¡n runtime.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn get_llm(type: u64) -> ??? {
	/// \`type\` = ???
	/// compiler can't choose between one in three return's values you provided
}" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_llm</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#F47067"> ???</span><span style="color:#ADBAC7"> &lbrace;</span></span>
<span class="line"><span style="color:#768390">	/// \`type\` = ???</span></span>
<span class="line"><span style="color:#768390">	/// compiler can't choose between one in three return's values you provided</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span></code></pre></figure> <p>Notes:</p> <ul><li><code>impl Trait</code> luÃ´n luÃ´n Ä‘Æ°á»£c compiler thay tháº¿ báº±ng Type thá»±c sau quÃ¡ trÃ¬nh compile</li></ul> <h3 id="2-enum" class="scroll-mt-20">2. Enum</h3><p>1 trong nhá»¯ng tÃ­nh nÄƒng ná»•i báº­t báº­c nháº¥t trong ngÃ´n ngá»¯ Rust, khÃ´ng nhÆ° nhá»¯ng ngÃ´n ngá»¯ khÃ¡c, Rust enum cá»±c ká»³ máº¡nh máº½ vÃ  linh hoáº¡t, ta cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ nhÆ° 1 bá»™ khung cho dá»¯ liá»‡u cÃ³ nhiá»u state khÃ¡c nhau, enum vá»›i cÆ¡ cháº¿ typesafe sáº½ Ä‘áº£m báº£o báº¡n khÃ´ng máº¯c pháº£i sai láº§m thÃ´ng qua typecheck á»Ÿ giai Ä‘oáº¡n compiletime.</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="enum LLM {
	ChatGPT,
	Gemini,
	Claude,
}

let llms: Vec&lt;LLM> = Vec::from([LLM::ChatGPT, LLM::Gemini, LLM::Clause]);

fn send_message_to(llm: LLM) {}

send_message_to(LLM::ChatGPT);
send_message_to(LLM::Gemini);
send_message_to(LLM::Claude);" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">enum</span><span style="color:#F69D50"> LLM</span><span style="color:#ADBAC7"> &lbrace;</span></span>
<span class="line"><span style="color:#F69D50">	ChatGPT</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#F69D50">	Gemini</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#F69D50">	Claude</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067">let</span><span style="color:#ADBAC7"> llms</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Vec</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F69D50">LLM</span><span style="color:#ADBAC7">> </span><span style="color:#F47067">=</span><span style="color:#F69D50"> Vec</span><span style="color:#F47067">::</span><span style="color:#DCBDFB">from</span><span style="color:#ADBAC7">([</span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Gemini</span><span style="color:#ADBAC7">, </span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Clause</span><span style="color:#ADBAC7">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> send_message_to</span><span style="color:#ADBAC7">(llm</span><span style="color:#F47067">:</span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7">) &lbrace;&rbrace;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCBDFB">send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7">);</span></span>
<span class="line"><span style="color:#DCBDFB">send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Gemini</span><span style="color:#ADBAC7">);</span></span>
<span class="line"><span style="color:#DCBDFB">send_message_to</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Claude</span><span style="color:#ADBAC7">);</span></span></code></pre></figure> <p>VÃ  náº¿u báº¡n dÃ¹ng enum nhÆ° Return Type thÃ¬ vÃ­ dá»¥ sau Ä‘Ã¢y lÃ  kháº£ thi</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn get_llm(type: u64) -> LLM {
	if type == 1 { LLM::ChatGPT }
	if type == 2 { LLM::Gemini }
	if type == 3 { LLM::Claude }
	LLM::ChatGPT
}" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_llm</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#6CB6FF"> LLM</span><span style="color:#ADBAC7"> &lbrace;</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> type</span><span style="color:#F47067"> ==</span><span style="color:#6CB6FF"> 1</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7"> &rbrace;</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> type</span><span style="color:#F47067"> ==</span><span style="color:#6CB6FF"> 2</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Gemini</span><span style="color:#ADBAC7"> &rbrace;</span></span>
<span class="line"><span style="color:#F47067">	if</span><span style="color:#F47067"> type</span><span style="color:#F47067"> ==</span><span style="color:#6CB6FF"> 3</span><span style="color:#ADBAC7"> &lbrace; </span><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Claude</span><span style="color:#ADBAC7"> &rbrace;</span></span>
<span class="line"><span style="color:#6CB6FF">	LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span></code></pre></figure> <p>Náº¿u báº¡n nghÄ© Ä‘Ã¢y chÃ­nh lÃ  giáº£i phÃ¡p hoÃ n háº£o cho toÃ n bá»™ váº¥n Ä‘á» thÃ¬ xin chia buá»“n, cÃ³ 1 sá»‘ háº¡n cháº¿ mÃ  enum Ä‘áº·t ra.</p> <p>Äáº§u tiÃªn nhá»¯ng pháº§n tá»­ con cá»§a 1 enum Ä‘Æ°á»£c gá»i lÃ  <strong>Enum Variant</strong></p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="// this all LLM's variants
LLM::ChatGPT
LLM::Gemini
LLM::Claude" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#768390">// this all LLM's variants</span></span>
<span class="line"><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span></span>
<span class="line"><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Gemini</span></span>
<span class="line"><span style="color:#6CB6FF">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">Claude</span></span></code></pre></figure> <p>Báº¡n khÃ´ng thá»ƒ sá»­ dá»¥ng <strong>Enum Variant</strong> nhÆ° 1 ReturnType, Function/Method Params hay Generic Type</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="fn get_llm(type: u64) -> LLM::ChatGPT {} // fail
fn send_message_to(gpt: LLM::ChatGPT) {} // fail
let llms: Vec&lt;LLM::ChatGPT> = vec![]; // fail" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> get_llm</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">type:</span><span style="color:#F69D50"> u64</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">-></span><span style="color:#6CB6FF"> LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7"> &lbrace;&rbrace; </span><span style="color:#768390">// fail</span></span>
<span class="line"><span style="color:#F47067">fn</span><span style="color:#DCBDFB"> send_message_to</span><span style="color:#ADBAC7">(gpt</span><span style="color:#F47067">:</span><span style="color:#6CB6FF"> LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7">) &lbrace;&rbrace; </span><span style="color:#768390">// fail</span></span>
<span class="line"><span style="color:#F47067">let</span><span style="color:#ADBAC7"> llms</span><span style="color:#F47067">:</span><span style="color:#F69D50"> Vec</span><span style="color:#ADBAC7">&#x3C;</span><span style="color:#F69D50">LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7">> </span><span style="color:#F47067">=</span><span style="color:#DCBDFB"> vec!</span><span style="color:#ADBAC7">[]; </span><span style="color:#768390">// fail</span></span></code></pre></figure> <p>Báº¡n khÃ´ng thá»ƒ impl Trait to 1 <strong>Enum Variant</strong></p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="impl SomeTrait for LLM::ChatGPT {} // fail" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">impl</span><span style="color:#F69D50"> SomeTrait</span><span style="color:#F47067"> for</span><span style="color:#6CB6FF"> LLM</span><span style="color:#F47067">::</span><span style="color:#F69D50">ChatGPT</span><span style="color:#ADBAC7"> &lbrace;&rbrace; </span><span style="color:#768390">// fail</span></span></code></pre></figure> <p><strong>Enum Variant</strong> dÃ¹ trong giá»‘ng 1 struct/tuple nhÆ°ng láº¡i khÃ´ng cÃ³ cÃ¡c kháº£ nÄƒng nhÆ° 1 struct/tuple, vÃ­ dá»¥ nhÆ° sá»­ dá»¥ng <code>#[derive]</code> macro</p> <figure class="highlighted-code relative"><label class="swap absolute top-2 right-2" data-code="enum LLM {
	#[derive(Debug)] // fail
	ChatGPT,
	Gemini,
	Claude,
}" data-lang="RUST"><input type="checkbox"/> <!> <!></label> <pre class="shiki github-dark-dimmed line-clamp-20 overflow-auto" style="background-color:#22272e;color:#adbac7" tabindex="0"><code><span class="line"><span style="color:#F47067">enum</span><span style="color:#F69D50"> LLM</span><span style="color:#ADBAC7"> &lbrace;</span></span>
<span class="line"><span style="color:#ADBAC7">	#[derive(</span><span style="color:#F69D50">Debug</span><span style="color:#ADBAC7">)] </span><span style="color:#768390">// fail</span></span>
<span class="line"><span style="color:#F69D50">	ChatGPT</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#F69D50">	Gemini</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#F69D50">	Claude</span><span style="color:#ADBAC7">,</span></span>
<span class="line"><span style="color:#ADBAC7">&rbrace;</span></span></code></pre></figure> <p>ChÃ­nh vÃ¬ váº­y mÃ  khi cÃ¢n nháº¯c giá»¯a viá»‡c sá»­ dá»¥ng <code>impl</code> vÃ  <code>enum</code> báº¡n cáº§n cháº¯c ráº±ng Ä‘Ã£ náº¯m rÃµ cÃ¡c giá»›i háº¡n cá»§a tá»«ng loáº¡i.</p> <p>&lbrace;&lbrace;Rust stack allocation vs Java heap allocation&rbrace;&rbrace;</p> <p>Notes:</p> <ul><li>Viá»‡c sá»­ dá»¥ng enum sáº½ giá»›i háº¡n kháº£ nÄƒng cá»§a cÃ¡c kiá»ƒu dá»¯ liá»‡u bÃªn trong nÃ³</li> <li>KÃ­ch thÆ°á»›c cá»§a Enum Ä‘Æ°á»£c quyáº¿t Ä‘á»‹nh báº±ng vá»›i size cá»§a Variant lá»›n nháº¥t, Ä‘iá»u nÃ y dáº«n Ä‘áº¿n viá»‡c lÃ£ng phÃ­ bá»™ nhá»› hÆ¡n so vá»›i SmartPointer</li></ul> <h2 id="v-káº¿t-luáº­n" class="scroll-mt-20">V. Káº¿t luáº­n</h2><p>CÃ¹ng Ä‘iá»ƒm láº¡i nhá»¯ng cÃ¡ch mÃ  báº¡n cÃ³ thá»ƒ Ã¡p dá»¥ng tÃ­nh polymorphism vÃ o trong 1 project Rust</p> <ul><li>Dynamic Dispatch: Báº¡n muá»‘n má»i thá»© nhanh chÃ³ng vÃ  khÃ´ng quan trá»ng performance<ul><li>Smart Pointer: You have a life to live âœ…</li> <li>Raw Pointer: You don&#39;t have a life âŒ</li> <li>Any: It&#39;s depend</li></ul></li> <li>Static Dispatch: Performance &amp; Typesafe<ul><li>Keyword <code>impl</code>: Everything happen at compiletime ğŸğŸğŸ</li> <li>Enum: Slightly footprint, but still fast as f*** ğŸğŸ</li></ul></li></ul> <h2 id="advanced-topics" class="scroll-mt-20">Advanced Topics</h2><ol><li>Fat Pointer vs Normal Pointer</li> <li>Allocation in Rust</li> <li>Rust Enum vs Java Enum vs Typescript Enum</li> <li>Rust Trait vs Java Interface</li></ol>`,1);function Ta(Hs){function e(c){const zs=c.parentElement,Da=zs?.getAttribute("data-code")??"";zs?.getAttribute("data-lang"),c.addEventListener("click",va=>{navigator.clipboard.writeText(Da),c.disabled=!0,setTimeout(()=>{c.disabled=!1,c.checked=!1},1e3)})}var G=Ba(),t=s(Ca(G),14),M=a(t),P=a(M);p(P,()=>e);var x=s(P,2);l(x,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var Ws=s(x,2);l(Ws,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(M),o(2),n(t);var r=s(t,11),R=a(r),q=a(R);p(q,()=>e);var V=s(q,2);l(V,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var Ys=s(V,2);l(Ys,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(R),o(2),n(r);var i=s(r,4),j=a(i),S=a(j);p(S,()=>e);var U=s(S,2);l(U,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var Qs=s(U,2);l(Qs,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(j),o(2),n(i);var h=s(i,2),E=a(h),I=a(E);p(I,()=>e);var J=s(I,2);l(J,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var Xs=s(J,2);l(Xs,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(E),o(2),n(h);var y=s(h,25),N=a(y),$=a(N);p($,()=>e);var O=s($,2);l(O,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var Zs=s(O,2);l(Zs,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(N),o(2),n(y);var d=s(y,5),K=a(d),z=a(K);p(z,()=>e);var H=s(z,2);l(H,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var sa=s(H,2);l(sa,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(K),o(2),n(d);var g=s(d,10),W=a(g),Y=a(W);p(Y,()=>e);var Q=s(Y,2);l(Q,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var aa=s(Q,2);l(aa,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(W),o(2),n(g);var u=s(g,5),X=a(u),Z=a(X);p(Z,()=>e);var ss=s(Z,2);l(ss,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var na=s(ss,2);l(na,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(X),o(2),n(u);var m=s(u,6),as=a(m),ns=a(as);p(ns,()=>e);var ls=s(ns,2);l(ls,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var la=s(ls,2);l(la,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(as),o(2),n(m);var b=s(m,4),os=a(b),es=a(os);p(es,()=>e);var ps=s(es,2);l(ps,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var oa=s(ps,2);l(oa,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(os),o(2),n(b);var D=s(b,9),cs=a(D),ts=a(cs);p(ts,()=>e);var rs=s(ts,2);l(rs,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ea=s(rs,2);l(ea,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(cs),o(2),n(D);var F=s(D,4),is=a(F),hs=a(is);p(hs,()=>e);var ys=s(hs,2);l(ys,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var pa=s(ys,2);l(pa,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(is),o(2),n(F);var C=s(F,4),ds=a(C),gs=a(ds);p(gs,()=>e);var us=s(gs,2);l(us,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ca=s(us,2);l(ca,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(ds),o(2),n(C);var A=s(C,5),ms=a(A),bs=a(ms);p(bs,()=>e);var Ds=s(bs,2);l(Ds,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ta=s(Ds,2);l(ta,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(ms),o(2),n(A);var B=s(A,2),Fs=a(B),Cs=a(Fs);p(Cs,()=>e);var As=s(Cs,2);l(As,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ra=s(As,2);l(ra,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(Fs),o(2),n(B);var v=s(B,4),Bs=a(v),vs=a(Bs);p(vs,()=>e);var ks=s(vs,2);l(ks,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ia=s(ks,2);l(ia,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(Bs),o(2),n(v);var k=s(v,6),fs=a(k),_s=a(fs);p(_s,()=>e);var Ls=s(_s,2);l(Ls,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ha=s(Ls,2);l(ha,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(fs),o(2),n(k);var f=s(k,9),ws=a(f),Ts=a(ws);p(Ts,()=>e);var Gs=s(Ts,2);l(Gs,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ya=s(Gs,2);l(ya,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(ws),o(2),n(f);var _=s(f,4),Ms=a(_),Ps=a(Ms);p(Ps,()=>e);var xs=s(Ps,2);l(xs,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var da=s(xs,2);l(da,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(Ms),o(2),n(_);var L=s(_,6),Rs=a(L),qs=a(Rs);p(qs,()=>e);var Vs=s(qs,2);l(Vs,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ga=s(Vs,2);l(ga,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(Rs),o(2),n(L);var w=s(L,4),js=a(w),Ss=a(js);p(Ss,()=>e);var Us=s(Ss,2);l(Us,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ua=s(Us,2);l(ua,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(js),o(2),n(w);var T=s(w,4),Es=a(T),Is=a(Es);p(Is,()=>e);var Js=s(Is,2);l(Js,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ma=s(Js,2);l(ma,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n(Es),o(2),n(T);var Ns=s(T,4),$s=a(Ns),Os=a($s);p(Os,()=>e);var Ks=s(Os,2);l(Ks,{class:"swap-on inline-block",icon:"openmoji:check-mark",width:"24",height:"24"});var ba=s(Ks,2);l(ba,{class:"swap-off inline-block",icon:"solar:copy-broken",width:"24",height:"24"}),n($s),o(2),n(Ns),o(16),Aa(Hs,G)}export{Ta as default};
